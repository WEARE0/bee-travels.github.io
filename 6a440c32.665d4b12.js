(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{67:function(e,t,i){"use strict";i.r(t),i.d(t,"frontMatter",(function(){return a})),i.d(t,"metadata",(function(){return c})),i.d(t,"rightToc",(function(){return s})),i.d(t,"default",(function(){return d}));var n=i(2),r=i(6),o=(i(0),i(77)),a={id:"designing",title:"Designing Microservices"},c={unversionedId:"designing",id:"designing",isDocsHomePage:!1,title:"Designing Microservices",description:"File Structure",source:"@site/docs/designing.md",slug:"/designing",permalink:"/docs/designing",version:"current",sidebar:"docs",previous:{title:"About Microservices",permalink:"/docs/about"},next:{title:"Designing Microservices with Node.js",permalink:"/docs/node"}},s=[{value:"File Structure",id:"file-structure",children:[]},{value:"Containerize",id:"containerize",children:[]},{value:"Communication",id:"communication",children:[]},{value:"Code Consistency",id:"code-consistency",children:[]}],l={rightToc:s};function d(e){var t=e.components,i=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},l,i,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"file-structure"},"File Structure"),Object(o.b)("p",null,"For applications with multiple microservices, focusing on each individually and uniquely may lead to a loss in productivity with development and debugging down the line. Below are some examples of issues that may arise: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Reinventing the wheel for other microservices when a working structure exists for a developed microservice"),Object(o.b)("li",{parentName:"ul"},"Using different directory/file names for different microservices that house similar information may lead to confusion when trying to locate components of a micorservice")),Object(o.b)("p",null,"These were some of the issues that were faced when initially working on Bee Travels. The way that Bee Travels has dealt with this is by coming up with a microservice template. The template is a skeleton microservice with the code that is needed to set the foundation for the microservice. "),Object(o.b)("p",null,"By using a template:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"All microservices follow the same consistent naming conventions for directories, files and variables"),Object(o.b)("li",{parentName:"ul"},"Time is saved in not needing to start from scratch"),Object(o.b)("li",{parentName:"ul"},"Sets standards that all developers can follow")),Object(o.b)("h2",{id:"containerize"},"Containerize"),Object(o.b)("p",null,"Containerizing your microservices (ex. Docker) is essential for cloud native application development. It is needed for deploying your microservices to Kubernetes or OpenShift. Containerizing also helps when developing and debugging locally. It allows for a standardized way of interacting with microservices when dealing with cross platform development and varrying versionings of dependencies."),Object(o.b)("p",null,"When using Docker, the best way to run multiple microservices in parallel is to create a ",Object(o.b)("inlineCode",{parentName:"p"},"docker-compose.yml")," file. You can view an example from Bee Travels ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/bee-travels/bee-travels-node/blob/master/docker-compose.yml"}),"here"),"."),Object(o.b)("h2",{id:"communication"},"Communication"),Object(o.b)("p",null,"Because microservices are parts of an application, they need a way to interact and communicate with each other to make sure the application functions correctly. Unlike in a monolith application, microservices are unable to communicate internally and need an external way to communicate. As a result, these microservices will require a web framework to be built within them."),Object(o.b)("p",null,"Web frameworks allow for the use of RESTful APIs. When designing microservices, one of the first things to consider is what functions do you want your microservice to provide and what data is needed to achieve these functions. "),Object(o.b)("p",null,"Let's look at an example of this using the Bee Travels destination microservice. The goal of the destination service is to provide information associated with different destinations (cities) across the world. A user or other service might be interested in viewing data related to a specific city. To get this information, the service should have an endpoint that looks like this: ",Object(o.b)("inlineCode",{parentName:"p"},"GET /api/v1/destinations/{country}/{city}"),". When this endpoint is called it should return a JSON object with data related to the specified ",Object(o.b)("inlineCode",{parentName:"p"},"country")," and ",Object(o.b)("inlineCode",{parentName:"p"},"city")," from the API call. With this design plan in mind, we can then write the code necessary in the destination microservice to retrieve and return the necessary information."),Object(o.b)("p",null,"Another benefit to designing microservices with RESTful APIs before development is it allows for parallel development of multiple microservices. Microservices that call an API endpoint from a different microservice will already know what the data returned from the API call is expected to look like. This is beneficial when writing tests, because you can create test data without needing to rely on making API calls to a microservice that may be in the process of being developed."),Object(o.b)("h2",{id:"code-consistency"},"Code Consistency"),Object(o.b)("p",null,"When writing code, it is important to keep code consistent not only among the developers working on the application, but also between the individual microservices. One way to help with this is by using a ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Lint_%28software%29"}),"linter"),". A linter helps with finding problematic code or code that does not follow formatting/style rules."))}d.isMDXComponent=!0},77:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return h}));var n=i(0),r=i.n(n);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var l=r.a.createContext({}),d=function(e){var t=r.a.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):c(c({},t),e)),i},u=function(e){var t=d(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var i=e.components,n=e.mdxType,o=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=d(i),m=n,h=u["".concat(a,".").concat(m)]||u[m]||p[m]||o;return i?r.a.createElement(h,c(c({ref:t},l),{},{components:i})):r.a.createElement(h,c({ref:t},l))}));function h(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=i.length,a=new Array(o);a[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,a[1]=c;for(var l=2;l<o;l++)a[l]=i[l];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,i)}m.displayName="MDXCreateElement"}}]);