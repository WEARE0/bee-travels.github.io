<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Designing Microservices | Bee Travels</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Designing Microservices | Bee Travels"><meta data-react-helmet="true" name="description" content="File Structure"><meta data-react-helmet="true" property="og:description" content="File Structure"><meta data-react-helmet="true" property="og:url" content="https://bee-travels.github.io/docs/designing"><link data-react-helmet="true" rel="shortcut icon" href="/img/faviconBee.ico"><link data-react-helmet="true" rel="canonical" href="https://bee-travels.github.io/docs/designing"><link rel="stylesheet" href="/styles.e4f86489.css">
<link rel="preload" href="/styles.b8ff35c3.js" as="script">
<link rel="preload" href="/runtime~main.ecca9717.js" as="script">
<link rel="preload" href="/main.0069eaad.js" as="script">
<link rel="preload" href="/1.e9b79b8d.js" as="script">
<link rel="preload" href="/2.c605e86f.js" as="script">
<link rel="preload" href="/23.fa99f49f.js" as="script">
<link rel="preload" href="/24.ce4b8b15.js" as="script">
<link rel="preload" href="/935f2afb.60f6c2a3.js" as="script">
<link rel="preload" href="/17896441.dfc2d206.js" as="script">
<link rel="preload" href="/6a440c32.6eae7761.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Bee-Travels"><strong class="navbar__title">Bee Travels</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/workshop">Workshop</a></div><div class="navbar__items navbar__items--right"><a href="https://developer.ibm.com/?s=microservices" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">IBM Developer</a><a href="https://github.com/bee-travels" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Bee-Travels"><strong class="navbar__title">Bee Travels</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/workshop">Workshop</a></li><li class="menu__list-item"><a href="https://developer.ibm.com/?s=microservices" target="_blank" rel="noopener noreferrer" class="menu__link">IBM Developer</a></li><li class="menu__list-item"><a href="https://github.com/bee-travels" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Microservices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about">About Microservices</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/designing">Designing Microservices</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Runtime</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/node">Node.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python">Python</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/kube">Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openshift">Openshift</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/istioabout">Istio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/knativeabout">Knative</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Life Cycle</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tdd">Test Driven Development</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/techtalks">Tech Talks</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Designing Microservices</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="file-structure"></a>File Structure<a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-structure" title="Direct link to heading">#</a></h2><p>For applications with multiple microservices, focusing on each individually and uniquely may lead to a loss in productivity with development and debugging down the line. Below are some examples of issues that may arise: </p><ul><li>Reinventing the wheel for other microservices when a working structure exists for a developed microservice</li><li>Using different directory/file names for different microservices that house similar information may lead to confusion when trying to locate components of a micorservice</li></ul><p>These were some of the issues that were faced when initially working on Bee Travels. The way that Bee Travels has dealt with this is by coming up with a microservice template. The template is a skeleton microservice with the code that is needed to set the foundation for the microservice. </p><p>By using a template:</p><ul><li>All microservices follow the same consistent naming conventions for directories, files and variables</li><li>Time is saved in not needing to start from scratch</li><li>Sets standards that all developers can follow</li></ul><p>Check out the Bee Travels Node.JS version of the service template <a href="https://github.com/bee-travels/node-service-template" target="_blank" rel="noopener noreferrer">here</a>. To run the template and setup a Node.js microservice run:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npx bee-bootstrap node</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="containerize"></a>Containerize<a aria-hidden="true" tabindex="-1" class="hash-link" href="#containerize" title="Direct link to heading">#</a></h2><p>Containerizing your microservices (ex. Docker) is essential for cloud native application development. It is needed for deploying your microservices to Kubernetes or OpenShift. Containerizing also helps when developing and debugging locally. It allows for a standardized way of interacting with microservices when dealing with cross platform development and varrying versionings of dependencies.</p><p>When using Docker, the best way to run multiple microservices in parallel is to create a <code>docker-compose.yml</code> file. You can view an example from Bee Travels <a href="https://github.com/bee-travels/bee-travels-node/blob/master/docker-compose.yml" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="communication"></a>Communication<a aria-hidden="true" tabindex="-1" class="hash-link" href="#communication" title="Direct link to heading">#</a></h2><p>Because microservices are parts of an application, they need a way to interact and communicate with each other to make sure the application functions correctly. Unlike in a monolith application, microservices are unable to communicate internally and need an external way to communicate. As a result, these microservices will require a web framework to be built within them.</p><p>Web frameworks allow for the use of RESTful APIs. When designing microservices, one of the first things to consider is what functions do you want your microservice to provide and what data is needed to achieve these functions. </p><p>Let&#x27;s look at an example of this using the Bee Travels destination microservice. The goal of the destination service is to provide information associated with different destinations (cities) across the world. A user or other service might be interested in viewing data related to a specific city. To get this information, the service should have an endpoint that looks like this: </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">GET /api/v1/destinations/{country}/{city}</span></div></div></div></div></div><p>When this endpoint is called it should return a JSON object with data related to the specified <code>country</code> and <code>city</code> from the API call. Below is an example of the JSON data returned for the city of New York:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;id&quot;: &quot;c4a3aa29-4c8b-4e4f-817e-dcf66345482e&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;city&quot;: &quot;New York&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;country&quot;: &quot;United States&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;latitude&quot;: 40.6943,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;longitude&quot;: -73.9249,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;population&quot;: 19354922,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;description&quot;: &quot;The City of New York, usually called either New York City (NYC) or simply New York (NY), is the most populous city in the United States. With an estimated 2018 population of 8,398,748 distributed over a land area of about 302.6 square miles (784 km2), New York is also the most densely populated major city in the United States. Located at the southern tip of the state of New York, the city is the center of the New York metropolitan area, the largest metropolitan area in the world by urban landmass and one of the world&#x27;s most populous megacities, with an estimated 19,979,477 people in its 2018 Metropolitan Statistical Area and 22,679,948 residents in its Combined Statistical Area. A global power city, New York City has been described as the cultural, financial, and media capital of the world, and exerts a significant impact upon commerce, entertainment, research, technology, education, politics, tourism, art, fashion, and sports. The city&#x27;s fast pace has inspired the term New York minute. Home to the headquarters of the United Nations, New York is an important center for international diplomacy.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;images&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-001.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-002.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-003.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-004.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-005.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-006.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-007.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-008.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-009.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-010.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-011.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-012.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-013.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-014.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-015.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-016.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-017.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-018.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-019.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;https://s3.us.cloud-object-storage.appdomain.cloud/bee-travels-assets-destination/destination-new-york-united-states-020.jpg&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>With this design plan in mind, we can then write the code necessary in the destination microservice to retrieve and return the necessary information.</p><p>Another benefit to designing microservices with RESTful APIs before development is it allows for parallel development of multiple microservices. Microservices that call an API endpoint from a different microservice will already know what the data returned from the API call is expected to look like. This is beneficial when writing tests, because you can create test data without needing to rely on making API calls to a microservice that may be in the process of being developed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="code-consistency"></a>Code Consistency<a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-consistency" title="Direct link to heading">#</a></h2><p>When writing code, it is important to keep code consistent not only among the developers working on the application, but also between the individual microservices. One way to help with this is by using a <a href="https://en.wikipedia.org/wiki/Lint_%28software%29" target="_blank" rel="noopener noreferrer">linter</a>. A linter helps with finding problematic code or code that does not follow formatting/style rules.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/about"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« About Microservices</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/node"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Node.js Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#file-structure" class="table-of-contents__link">File Structure</a></li><li><a href="#containerize" class="table-of-contents__link">Containerize</a></li><li><a href="#communication" class="table-of-contents__link">Communication</a></li><li><a href="#code-consistency" class="table-of-contents__link">Code Consistency</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://developer.ibm.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Developer</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://www.crowdcast.io/ibmdeveloper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Crowdcast</a></li></ul></div></div><div class="text--center"><div></div></div></div></footer></div>
<script src="/styles.b8ff35c3.js"></script>
<script src="/runtime~main.ecca9717.js"></script>
<script src="/main.0069eaad.js"></script>
<script src="/1.e9b79b8d.js"></script>
<script src="/2.c605e86f.js"></script>
<script src="/23.fa99f49f.js"></script>
<script src="/24.ce4b8b15.js"></script>
<script src="/935f2afb.60f6c2a3.js"></script>
<script src="/17896441.dfc2d206.js"></script>
<script src="/6a440c32.6eae7761.js"></script>
</body>
</html>